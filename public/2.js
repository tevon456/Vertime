(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{489:function(e,t,n){var a={"./af":359,"./af.js":359,"./ar":360,"./ar-dz":361,"./ar-dz.js":361,"./ar-kw":362,"./ar-kw.js":362,"./ar-ly":363,"./ar-ly.js":363,"./ar-ma":364,"./ar-ma.js":364,"./ar-sa":365,"./ar-sa.js":365,"./ar-tn":366,"./ar-tn.js":366,"./ar.js":360,"./az":367,"./az.js":367,"./be":368,"./be.js":368,"./bg":369,"./bg.js":369,"./bm":370,"./bm.js":370,"./bn":371,"./bn.js":371,"./bo":372,"./bo.js":372,"./br":373,"./br.js":373,"./bs":374,"./bs.js":374,"./ca":375,"./ca.js":375,"./cs":376,"./cs.js":376,"./cv":377,"./cv.js":377,"./cy":378,"./cy.js":378,"./da":379,"./da.js":379,"./de":380,"./de-at":381,"./de-at.js":381,"./de-ch":382,"./de-ch.js":382,"./de.js":380,"./dv":383,"./dv.js":383,"./el":384,"./el.js":384,"./en-SG":385,"./en-SG.js":385,"./en-au":386,"./en-au.js":386,"./en-ca":387,"./en-ca.js":387,"./en-gb":388,"./en-gb.js":388,"./en-ie":389,"./en-ie.js":389,"./en-il":390,"./en-il.js":390,"./en-nz":391,"./en-nz.js":391,"./eo":392,"./eo.js":392,"./es":393,"./es-do":394,"./es-do.js":394,"./es-us":395,"./es-us.js":395,"./es.js":393,"./et":396,"./et.js":396,"./eu":397,"./eu.js":397,"./fa":398,"./fa.js":398,"./fi":399,"./fi.js":399,"./fo":400,"./fo.js":400,"./fr":401,"./fr-ca":402,"./fr-ca.js":402,"./fr-ch":403,"./fr-ch.js":403,"./fr.js":401,"./fy":404,"./fy.js":404,"./ga":405,"./ga.js":405,"./gd":406,"./gd.js":406,"./gl":407,"./gl.js":407,"./gom-latn":408,"./gom-latn.js":408,"./gu":409,"./gu.js":409,"./he":410,"./he.js":410,"./hi":411,"./hi.js":411,"./hr":412,"./hr.js":412,"./hu":413,"./hu.js":413,"./hy-am":414,"./hy-am.js":414,"./id":415,"./id.js":415,"./is":416,"./is.js":416,"./it":417,"./it-ch":418,"./it-ch.js":418,"./it.js":417,"./ja":419,"./ja.js":419,"./jv":420,"./jv.js":420,"./ka":421,"./ka.js":421,"./kk":422,"./kk.js":422,"./km":423,"./km.js":423,"./kn":424,"./kn.js":424,"./ko":425,"./ko.js":425,"./ku":426,"./ku.js":426,"./ky":427,"./ky.js":427,"./lb":428,"./lb.js":428,"./lo":429,"./lo.js":429,"./lt":430,"./lt.js":430,"./lv":431,"./lv.js":431,"./me":432,"./me.js":432,"./mi":433,"./mi.js":433,"./mk":434,"./mk.js":434,"./ml":435,"./ml.js":435,"./mn":436,"./mn.js":436,"./mr":437,"./mr.js":437,"./ms":438,"./ms-my":439,"./ms-my.js":439,"./ms.js":438,"./mt":440,"./mt.js":440,"./my":441,"./my.js":441,"./nb":442,"./nb.js":442,"./ne":443,"./ne.js":443,"./nl":444,"./nl-be":445,"./nl-be.js":445,"./nl.js":444,"./nn":446,"./nn.js":446,"./pa-in":447,"./pa-in.js":447,"./pl":448,"./pl.js":448,"./pt":449,"./pt-br":450,"./pt-br.js":450,"./pt.js":449,"./ro":451,"./ro.js":451,"./ru":452,"./ru.js":452,"./sd":453,"./sd.js":453,"./se":454,"./se.js":454,"./si":455,"./si.js":455,"./sk":456,"./sk.js":456,"./sl":457,"./sl.js":457,"./sq":458,"./sq.js":458,"./sr":459,"./sr-cyrl":460,"./sr-cyrl.js":460,"./sr.js":459,"./ss":461,"./ss.js":461,"./sv":462,"./sv.js":462,"./sw":463,"./sw.js":463,"./ta":464,"./ta.js":464,"./te":465,"./te.js":465,"./tet":466,"./tet.js":466,"./tg":467,"./tg.js":467,"./th":468,"./th.js":468,"./tl-ph":469,"./tl-ph.js":469,"./tlh":470,"./tlh.js":470,"./tr":471,"./tr.js":471,"./tzl":472,"./tzl.js":472,"./tzm":473,"./tzm-latn":474,"./tzm-latn.js":474,"./tzm.js":473,"./ug-cn":475,"./ug-cn.js":475,"./uk":476,"./uk.js":476,"./ur":477,"./ur.js":477,"./uz":478,"./uz-latn":479,"./uz-latn.js":479,"./uz.js":478,"./vi":480,"./vi.js":480,"./x-pseudo":481,"./x-pseudo.js":481,"./yo":482,"./yo.js":482,"./zh-cn":483,"./zh-cn.js":483,"./zh-hk":484,"./zh-hk.js":484,"./zh-tw":485,"./zh-tw.js":485};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=489},499:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),l=n(4);function s(){var e=m(["\n    min-height: auto;\n    height: auto;\n    flex-wrap: nowrap;\n    justify-content: flex-start;\n    align-items: baseline;\n    display: flex;\n    flex-direction: row;\n    align-content: flex-start;\n    & div > img {\n        image-rendering: pixelated;\n        width: auto;\n        border-radius: var(--radius);\n    }\n\n    @media "," {\n        & div > img {\n            height: 400px;\n        }\n    }\n\n    @media "," {\n        & div > img {\n            height: 300px;\n        }\n    }\n\n    @media "," {\n        & div > img {\n            height: 240px;\n        }\n    }\n"]);return s=function(){return e},e}function i(){var e=m(["\n    &::-webkit-scrollbar {\n        width: 12px;\n        height: 12px;\n    }\n\n    &::-webkit-scrollbar-track {\n        background: var(--light-grey);\n        border-radius: 8px;\n    }\n\n    &::-webkit-scrollbar-thumb {\n        background-color: #3f3f3f;\n        border-radius: 8px;\n    }\n    &::-webkit-scrollbar-thumb:hover {\n        background-color: #3f3f3f;\n        border-radius: 8px;\n    }\n"]);return i=function(){return e},e}function c(){var e=m(["\n    flex: 0 0 auto;\n    margin: 8px;\n    margin-bottom: 28px;\n"]);return c=function(){return e},e}function m(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var u=l.a.div(c()),d=l.a.div(i()),b=l.a.div(s(),o.a.desktopL,o.a.mobileL,o.a.mobileS);function f(e){return r.a.createElement(d,{style:{overflowX:"auto",overflowY:"hidden",width:"100%"},tabIndex:"0"},r.a.createElement(b,null,e.children))}function p(e){return r.a.createElement(u,null,e.children)}var j=n(155),g=n(358),h=n(29);function y(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n        color: var(--primary-color-2);\n        background: ",";\n        border-radius: var(--radius);\n        padding: 2px 8px;\n        margin: 2px;\n        cursor: default;\n        display: inline-block;\n    "]);return y=function(){return e},e}var v=function(e){var t=l.a.span(y(),e.background||"var(--secondary-color)");return r.a.createElement(t,null,e.children)},E=n(59),k=n(32);function x(){return r.a.createElement("div",{className:"margin-bottom--sm",style:{borderBottom:"1px solid var(--light-grey)"}})}var w=n(490),O=n.n(w);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=z(t).call(this,e))||"object"!==N(r)&&"function"!=typeof r?S(a):r).state={},n.setState=n.setState.bind(S(n)),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){document.getElementById("body").classList.add("noscroll"),document.getElementById("root").classList.add("blur")}},{key:"componentWillUnmount",value:function(){document.getElementById("body").classList.remove("noscroll"),document.getElementById("root").classList.remove("blur")}},{key:"render",value:function(){return r.a.createElement("div",null)}}])&&M(n.prototype,a),o&&M(n,o),t}(r.a.Component);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){var t;return r.a.createElement(r.a.Fragment,null,!1===e.blur?null:r.a.createElement(C,null),r.a.createElement("div",{style:(t={display:"flex",justifyContent:"space-between",position:"sticky",top:"0px"},T(t,"position","sticky"),T(t,"background","var(--primary-color-2)"),T(t,"borderBottom","1px solid var(--light-grey)"),T(t,"padding","8px"),T(t,"zIndex",1),T(t,"marginTop","0px"),t)},r.a.createElement("span",{className:"text--rg text--bold",style:{display:"inline-flex",lineHeight:2}},e.modalTitle),r.a.createElement("button",{className:"btn btn--bordered btn--sm",onClick:e.closeModal},"Close")))}var P=n(498),L=n(45),D=function(e){var t=e.amount;return r.a.createElement("span",null,"Â ".repeat(null==t?1:t))};function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    border-collapse: collapse;\n    width: 100%;\n\n    th,\n    td {\n        text-align: left;\n        padding: 8px;\n        min-width: 160px;\n    }\n\n    .head-row {\n        background: var(--black);\n        color: var(--white);\n    }\n\n    .fixed-col {\n        position: sticky;\n        left: -1px;\n        border-right: 2px solid white;\n        border-left: 2px solid white;\n        background: #f1f1f1;\n        z-index: 2;\n    }\n\n    .fixed-col-th {\n        background: var(--black);\n    }\n\n    tr {\n        background-color: #f1f1f1;\n        border-bottom: 1px solid #fff;\n    }\n"]);return F=function(){return e},e}var G=l.a.table(F()),J=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=R(t).call(this,e))||"object"!==B(r)&&"function"!=typeof r?U(a):r).state={modalIsOpen:!1,modalTitle:null,content:null,manager:""},n.setState=n.setState.bind(U(n)),n.openModal=n.openModal.bind(U(n)),n.closeModal=n.closeModal.bind(U(n)),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,e),n=t,(a=[{key:"openModal",value:function(e,t){this.renderContent(e,t)}},{key:"closeModal",value:function(){this.props.refresh(),this.setState({modalIsOpen:!1})}},{key:"renderContent",value:function(e,t){var n=this;switch(e){case 1:this.setState({modalIsOpen:!0,modalTitle:"Log Time",content:r.a.createElement("div",{className:"grid-center"},r.a.createElement(j.a,{closeModal:this.closeModal,data:t.clients}))});break;case 2:this.setState({modalIsOpen:!0,modalTitle:"My Details",content:r.a.createElement("div",{className:"grid-center"},r.a.createElement("div",{className:"margin-top--lg margin-bottom--lg"},r.a.createElement("div",{className:"text--rg text-grey margin-top--sm margin-bottom--sm"},r.a.createElement("b",null,"Name: "),r.a.createElement("p",{className:"text--blue margin-top--none margin-bottom--none"},t.first_name," ",t.last_name)),r.a.createElement("div",{className:"text--rg text-grey margin-top--sm margin-bottom--sm"},r.a.createElement("b",null,"Email: "),r.a.createElement("p",{className:"text--blue margin-top--none margin-bottom--none"},t.email)),r.a.createElement("div",{className:"text--rg text-grey margin-top--sm margin-bottom--sm"},r.a.createElement("b",null,"Role: "),r.a.createElement("p",{className:"text--blue margin-top--none margin-bottom--none"},t.roles[0])),r.a.createElement("div",{className:"text--rg text-grey margin-top--sm margin-bottom--sm"},r.a.createElement("b",null,"Address: "),r.a.createElement("p",{className:"text--blue margin-top--none margin-bottom--none"},t.street,", ",t.city,", ",t.parish,", ",t.country))))});break;case 3:this.setState({modalIsOpen:!0,modalTitle:"Update",content:r.a.createElement("div",{className:"grid-center"},r.a.createElement(j.a,{closeModal:this.closeModal,update:t[0],data:t[1]}))});break;case 4:Object(h.b)(t).then((function(e){var t=e.data.first_name+" "+e.data.last_name;n.setState({manager:t}),n.setState({modalIsOpen:!0,modalTitle:"Manager",content:r.a.createElement("div",{className:"grid-center"},r.a.createElement("div",{className:"margin-top--lg margin-bottom--lg"},r.a.createElement("div",{className:"text--rg text-grey margin-top--sm margin-bottom--sm"},r.a.createElement("b",null,"Manager: "),r.a.createElement("p",{className:"text--blue margin-top--none margin-bottom--none"},n.state.manager))))})}));break;default:this.setState({modalIsOpen:!0,modalTitle:"Modal",content:r.a.createElement("div",{className:"grid-center"},r.a.createElement("b",{className:"margin-top--lg margin-bottom--lg"},"Default"))})}}},{key:"render",value:function(){var e=this;function t(e,t){var n=g(e),a=g(t),r=g.duration(n.diff(a)).asHours();return Math.abs(r)}return r.a.createElement(P.OverviewContext.Consumer,null,(function(n){return r.a.createElement(L.a,null,r.a.createElement("span",{"aria-label":"You can go ahead and log your times","data-balloon-pos":"right","data-balloon-length":"medium"},r.a.createElement(v,null,"?")),r.a.createElement("div",{className:"margin-bottom--xxs"}),r.a.createElement(E.a,null,r.a.createElement("p",{className:"text--bold"},"logged in as ","".concat(e.props.user.first_name," ").concat(e.props.user.last_name," ")),r.a.createElement(x,null),r.a.createElement(W,{isLoading:n.state.isLoading,data:n.state,user:e.props.user,openModal:e.openModal}),r.a.createElement("div",{className:"margin-bottom--sm"}),r.a.createElement(x,null),r.a.createElement("div",{tabIndex:"0",style:{overflowX:"auto"}},r.a.createElement(G,null,r.a.createElement("tbody",null,r.a.createElement("tr",{className:"head-row"},r.a.createElement("th",{className:"fixed-col fixed-col-th"},"Date"),r.a.createElement("th",null,"Client"),r.a.createElement("th",null,"Manager"),r.a.createElement("th",null,"Task"),r.a.createElement("th",null,"Comment"),r.a.createElement("th",null,"From"),r.a.createElement("th",null,"To"),r.a.createElement("th",null,"Hours spent"),r.a.createElement("th",null,"Hours overtime"),r.a.createElement("th",null,"Status")),n.state.userTimesheets.map((function(a){return r.a.createElement("tr",{key:Math.random()},r.a.createElement("td",{className:"fixed-col"},r.a.createElement("button",{onClick:function(){return e.openModal(3,[a,n.state.clients])},"aria-label":"edit entry ".concat(a.date),"data-balloon-pos":"right","data-balloon-length":"small",className:"btn btn--primary btn--sm"},r.a.createElement(k.c,{strokeWidth:3})),r.a.createElement(D,{amount:3}),a.date),r.a.createElement("td",null,(i=n.state.clients,c=a.client_id,i.find((function(e){return e.id==c})).name)),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.openModal(4,a.client_id)},className:"btn btn--primary btn--sm"},"view")),r.a.createElement("td",null,a.task),r.a.createElement("td",{"aria-label":a.comment,"data-balloon-pos":"up","data-balloon-length":"medium"},a.comment),r.a.createElement("td",null,a.from),r.a.createElement("td",null,a.to),r.a.createElement("td",null,t(a.from,a.to)),r.a.createElement("td",null,(o=t(a.from,a.to),s=0,o>(l=8)&&(s=o-l),s)),r.a.createElement("td",null,a.status));var o,l,s,i,c}))))),r.a.createElement("div",{className:"margin-bottom--md"}),r.a.createElement(O.a,{isOpen:e.state.modalIsOpen,onRequestClose:e.closeModal,blur:!0,contentLabel:"Modal",className:"modal-content",overlayClassName:"modal-overlay"},r.a.createElement(I,{modalTitle:e.state.modalTitle,closeModal:e.closeModal,blur:!0}),e.state.content,r.a.createElement("div",{className:"margin-bottom--lg"}))))}))}}])&&H(n.prototype,a),o&&H(n,o),t}(a.Component);function W(e){return r.a.createElement(f,null,r.a.createElement(p,null,r.a.createElement("button",{onClick:function(){return e.openModal(1,e.data)},className:"btn btn--primary btn--md"},"Log Time")),r.a.createElement(p,null,r.a.createElement("button",{onClick:function(){return e.openModal(2,e.user)},className:"btn btn--secondary btn--md"},"My Details")))}t.default=J}}]);